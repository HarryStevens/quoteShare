!function(s){s.fn.quoteShare=function(o){return this.each(function(){var e=s(this).context.offsetTop,p="qs-popup-"+e,n=[],a=s.extend({backgroundColor:"#55acee",birdColor:"#ffffff",minLength:1,maxLength:114,shareIcon:'<i class="fa fa-twitter-square share-icon" aria-hidden="true"></i>',size:24},o),i={position:"absolute",top:"-10000px",left:"-10000px"};s("body").append('<div id="'+p+'">'),s("#"+p).css({background:a.birdColor,"font-size":a.size,height:a.size-a.size/4.5,width:a.size-a.size/5.5,"border-radius":"50%"}),s("#"+p).append('<a class="qs-sharelink qs-sharelink-'+e+'">'+a.shareIcon+"</a>"),s("a.qs-sharelink-"+e).css({color:a.backgroundColor,cursor:"pointer"}),s("#"+p).css(i).addClass("qs-popup-hidden").removeClass("qs-popup-shown"),s(".share-icon").css({"margin-top":"-3px",position:"absolute"}),s(this).mouseup(function(o){var e={top:o.pageY-10,left:o.pageX},t=window.getSelection(),r=t.toString(),h=r.length;n.push(r);var d=n.length;if(h>a.minLength&&h<a.maxLength&&r!=n[d-2]&&"Range"==t.type){s("#"+p).css(e).addClass("qs-popup-shown").removeClass("qs-popup-hidden");var u='http://twitter.com/share?&amp;text="'+r+'" ';s("a.qs-sharelink").attr("onclick","popUp=window.open('"+u+"','popupwindow','scrollbars=yes,width=600,height=250');popUp.focus();return false")}else s("#"+p).css(i).addClass("qs-popup-hidden").removeClass("qs-popup-shown");s(".qs-popup-shown").click(function(){s(this).css(i).addClass("qs-popup-hidden").removeClass("qs-popup-shown")})}),s("body").mousedown(function(){s("#"+p).hasClass("qs-popup-shown")&&setTimeout(function(){s("#"+p).css(i).removeClass("qs-popup-shown").addClass("qs-popup-hidden")},200)})})}}(jQuery);