!function(s){s.fn.quoteShare=function(o){return this.each(function(){var e=s(this).context.offsetTop,n="qs-popup-"+e,p=[],i=window.location.href,a=s.extend({backgroundColor:"#55acee",birdColor:"#ffffff",minLength:1,maxLength:114,shareIcon:'<i class="fa fa-twitter-square share-icon" aria-hidden="true"></i>',size:24},o),t={position:"absolute",top:"-10000px",left:"-10000px"};s("body").append('<div id="'+n+'">'),s("#"+n).css({background:a.birdColor,"font-size":a.size,height:a.size-a.size/4.5,width:a.size-a.size/5.5,"border-radius":a.size/4.5}),s("#"+n).append('<a class="qs-sharelink qs-sharelink-'+e+'">'+a.shareIcon+"</a>"),s("a.qs-sharelink-"+e).css({color:a.backgroundColor,cursor:"pointer"}),s("#"+n).css(t).addClass("qs-popup-hidden").removeClass("qs-popup-shown"),s(".share-icon").css("margin-top",-(a.size/12.25)),s(this).mouseup(function(o){var e={top:o.pageY-10,left:o.pageX},r=window.getSelection(),h=r.toString(),d=h.length;p.push(h);var u=p.length;if(d>a.minLength&&d<a.maxLength&&h!=p[u-2]&&"Range"==r.type){s("#"+n).css(e).addClass("qs-popup-shown").removeClass("qs-popup-hidden");var c='http://twitter.com/share?&amp;text="'+h+'" '+i;s("a.qs-sharelink").attr("onclick","popUp=window.open('"+c+"','popupwindow','scrollbars=yes,width=600,height=250');popUp.focus();return false")}else s("#"+n).css(t).addClass("qs-popup-hidden").removeClass("qs-popup-shown");s(".qs-popup-shown").click(function(){s(this).css(t).addClass("qs-popup-hidden").removeClass("qs-popup-shown")})}),s("body").mousedown(function(){s("#"+n).hasClass("qs-popup-shown")&&setTimeout(function(){s("#"+n).css(t).removeClass("qs-popup-shown").addClass("qs-popup-hidden")},500)})})}}(jQuery);