!function(t){t.fn.quoteShare=function(s){return this.each(function(){var e=t(this).context.offsetTop+"-"+t(this).context.offsetLeft,o="qs-popup-"+e,a=t.extend({animation:75,background:"#262626",boxShadow:!0,twitterElipses:!0,minLength:1,maxLength:500,twitterColor:"#ffffff",twitterHashtags:"",twitterVia:""},s);t("body").append('<div id="'+o+'">'),t("#"+o).css({background:a.background,"font-size":"24px",height:"40px",width:"40px","border-radius":"4px",padding:"9px","padding-top":"10px","box-sizing":"border-box"}),a.boxShadow&&t("#"+o).css({"box-shadow":"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)"}),t("#"+o).append('<a class="qs-sharelink qs-twitter qs-twitter-'+e+'"><i class="fa fa-twitter share-icon" aria-hidden="true"></i></a>'),t(".qs-sharelink").css({"z-index":1,cursor:"pointer",position:"absolute"}),t("a.qs-twitter-"+e).css({color:a.twitterColor}),t(".share-icon").css({"margin-top":"-3px",position:"absolute"}),t("#"+o).append('<div class="qs-popup-arrow-'+e+'">&nbsp;</div>'),t(".qs-popup-arrow-"+e).css({background:a.background,width:"20px",height:"20px",margin:"0 auto","margin-top":"12px",transform:"rotate(45deg)"});var i={position:"absolute",top:"-10000px",left:"-10000px"};t("#"+o).css(i).slideUp().addClass("qs-popup-hidden").removeClass("qs-popup-shown");t(this).mouseup(function(s){var e=window.getSelection(),p=e.toString(),n=p.length,r=e.getRangeAt(0).cloneRange(),h=r.getClientRects()[0],d=h.left,l=h.top,c=h.right,u=(d+c)/2,g=t(window).scrollTop(),w=p.replace(/(\r\n|\n|\r)/gm,"").trim(),p=w,f={top:l+g-50,left:u-20};if(n>a.minLength&&n<a.maxLength){if(t("#"+o).css(f).slideDown(a.animation).addClass("qs-popup-shown").removeClass("qs-popup-hidden"),1==a.twitterElipses){for(var x=p.length+2,m=a.twitterVia.length,b=a.twitterHashtags.split(","),q=[],v=0;v<b.length;v++){var C=" #"+b[v].trim(),k=C.length;q.push(k)}var L=0;t.each(q,function(){L+=this}),3>L&&(console.log("there are no hashtags"),L=0);var S=0;m>0&&(S=m+6);var U=x+S+L+24,y=U-140;if(y>0){var H=p.substr(0,p.length-(y+3));p=H+"..."}}var V='http://twitter.com/share?text="'+p+'"',z="",R="";""!=a.twitterVia&&(z="&amp;via="+a.twitterVia),""!=a.twitterHashtags&&(R="&amp;hashtags="+a.twitterHashtags);var T=V.concat(z,R);t("a.qs-twitter").attr("onclick","popUp=window.open('"+T+"','popupwindow','scrollbars=yes,width=600,height=250');popUp.focus();return false")}else t("#"+o).css(i).slideUp().addClass("qs-popup-hidden").removeClass("qs-popup-shown")}),t("body").mousedown(function(){t("#"+o).hasClass("qs-popup-shown")&&setTimeout(function(){t("#"+o).css(i).slideUp().removeClass("qs-popup-shown").addClass("qs-popup-hidden")},200)})})}}(jQuery);