!function(s){s.fn.quoteShare=function(o){return this.each(function(){var t=s(this).context.offsetTop+"-"+s(this).context.offsetLeft,p="qs-popup-"+t,e=[],n=s.extend({colorTwitter:"#ffffff",background:"#262626",minLength:1,maxLength:114,boxShadow:!0},o);s("body").append('<div id="'+p+'">'),s("#"+p).css({background:n.background,"font-size":"24px",height:"40px",width:"40px","border-radius":"4px",padding:"9px","padding-top":"11px"}),n.boxShadow&&s("#"+p).css({"box-shadow":"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)"}),s("#"+p).append('<a class="qs-sharelink qs-twitter qs-twitter-'+t+'"><i class="fa fa-twitter share-icon" aria-hidden="true"></i></a>'),s(".qs-sharelink").css({"z-index":1,cursor:"pointer",position:"absolute"}),s("a.qs-twitter-"+t).css({color:n.colorTwitter}),s(".share-icon").css({"margin-top":"-3px",position:"absolute"}),s("#"+p).append('<div class="qs-popup-arrow-'+t+'">&nbsp;</div>'),s(".qs-popup-arrow-"+t).css({background:n.background,width:"20px",height:"20px",margin:"0 auto","margin-top":"12px",transform:"rotate(45deg)"});var a={position:"absolute",top:"-10000px",left:"-10000px"};s("#"+p).css(a).addClass("qs-popup-hidden").removeClass("qs-popup-shown"),s(this).mouseup(function(o){var t=window.getSelection(),i=t.toString(),r=i.length,d=t.getRangeAt(0).cloneRange(),h=d.getClientRects()[0],c=h.left,u=h.top,l=h.right,g=(c+l)/2,w=s(window).scrollTop(),f={top:u+w-50,left:g-37.5};e.push(i);var x=e.length;if(r>n.minLength&&r<n.maxLength&&i!=e[x-2]&&"Range"==t.type){s("#"+p).css(f).addClass("qs-popup-shown").removeClass("qs-popup-hidden");var q='http://twitter.com/share?&amp;text="'+i+'" ';s("a.qs-twitter").attr("onclick","popUp=window.open('"+q+"','popupwindow','scrollbars=yes,width=600,height=250');popUp.focus();return false")}else s("#"+p).css(a).addClass("qs-popup-hidden").removeClass("qs-popup-shown")}),s("body").mousedown(function(){s("#"+p).hasClass("qs-popup-shown")&&setTimeout(function(){s("#"+p).css(a).removeClass("qs-popup-shown").addClass("qs-popup-hidden")},200)})})}}(jQuery);